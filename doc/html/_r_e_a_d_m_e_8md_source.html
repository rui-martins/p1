<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>2º Projeto de Introdução à Computação: README.md Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">2º Projeto de Introdução à Computação
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   <div id="projectbrief">2º Projeto de Introdução à Computação 2017/2018</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_r_e_a_d_m_e_8md.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">README.md</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;# 2º Projeto de Introdução à Computação 2017/2018</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;* Diogo Martins - a21701345</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;* Francisco Freixo - a21701661</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;* Rui Martins - a21701462</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;## Our solution</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;### Architecture</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;For our game we tried to split different mechanics into different files.</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;Every file has its own `.h` where we store structures and functions prototypes.&lt;p&gt;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;The main program is `example.c` in which we basically get the configuration variables from the configuration file using `read_from_config.c` and use them to spawn all the agents randomly across the grid. `agent.c` is used to create/destroy the agents that will populate the grid. `shuffle()` is called from `shuffle.c` to randomize agent playing order before each turn. We then check if the next agent playing is user controlled or not and if it is, we use `manual_move.c`, otherwise `neighborhood.c`is used to check for the nearest enemy and further call `AI_move.c`.&lt;p&gt;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;Each movement in the grid (be it actual agent movement or enemy checking) is verified with `toroidal.c` so that coordinates are never off bounds.</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;![Fluxograma](fluxo2.svg)</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;### Data structures</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;The mainly data structures that we use are arrays and structs. `agent_grid` for example holds all the positions of the grid (empty spaces and agents themselves).&lt;p&gt;We created an array of pointers to agents for the shuffle before each turn and also an `AGENT` struct that holds information such as the  `id`, `type`, `x` and `y` positions on grid, and more!&lt;p&gt;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;In the functions that we use to return coordinates, we used a struct that held `x, y` values so we could return both variables through it.</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;### Algorithms</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;**Toroidal algorithm:**&lt;p&gt;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;`position.x = (x + destination_x + WORLD_X) % WORLD_X;` and `position.y = (y + destination_y + WORLD_Y) % WORLD_Y;`&lt;p&gt;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;We developed this algorithm with the help of some extended research. We use it in a function that receives the actual agent position and where it wants to go to, and it basically never goes offgrid. It also works for the Moore verification. When radius and checks for enemies off grid, it will correctly enter through the other side of the grid and check correctly.&lt;p&gt;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;**Movement algorithm:**&lt;p&gt;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;`if ( abs(agents_array[position]-&gt;x - enemy_x) &gt; r )` then walk in a certain direction depending the the final value is `&lt; 0` or `&gt; 0`.&lt;p&gt;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;We use this to verify if it is faster to reach or run from the enemy by crossing the grid to the other side or by walking back by comparing the distance between agents and the radius in which the enemy was found. `If distance &gt; r then walk in a direction, otherwise walk the opposite way (depending if the agent is a Zombie or a Human.`&lt;p&gt;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;**Searching for other agents on grid (Moore Neighbourhood):**&lt;p&gt;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;`for radius = actual r until it reaches an agent or all grid cells`, use two for cycles to go through the squares surrounding our agent, for example:&lt;p&gt;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;If `radius` is 1 at the moment we are checking the 8 squares surrounding us, with:&lt;p&gt;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;`for destination_x = -r; dest_x &lt;= r; dest_x++)` and inside the dx cycle: `for (dest_y = -r; dest_y &lt;= r; dest_y++)`&lt;p&gt;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;This will allow us to go through `x, y =  -1,-1 / -1,0 / -1, 1 / 0, -1 / 0, 0 / 0, 1 / 1, -1 / 1, 0 / 1, 1` and it will increase as the radius increases!</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;## User guide</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;##### Game setup in 3 simple steps</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;**1st** - Open up your Linux Terminal and construct the build by running `make` while on the game folder.&lt;p&gt;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;**2nd** - Edit your config.INI file to setup the game settings (Number of turns, humans, zombies, playable agents, etc.)</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;**3rd** - Run the command ./example config.ini (config.ini is case sensitive!)</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;&lt;p&gt;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;##### Game intructions</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;Our game is really simple. Zombies chase Humans while they run for their lives to try to stay alive.&lt;p&gt;You setup pretty much every number in the configuration file and while running the game, agents will be AI or manually controlled (depending on what you specify on the `config.ini` file).&lt;p&gt;Press `ENTER` to see the agent movements and when it is your time to play, choose a number from `1` to `8` to move your agent (it will be displayed in the screen a figure that shows you the directions of each one of the numbers).&lt;p&gt;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;Game ends when turns end or humans go extinct.&lt;p&gt;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;Have fun!</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;## Conclusions</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;By developing this game, not only did we expand our programming knowledge but we also had a lot of fun while doing it.&lt;p&gt;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;It was a very tough project that required countless hours of dedication. Most of the time was spent thinking of logical ways to do it and applying formulas.</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;&lt;p&gt;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;Before starting, we made sure to structure well the program and try to do it piece by piece, and it eventually ended up filling the whole puzzle. Despite it taking a big part of our time, we couldn&#39;t be happier with the final result.&lt;p&gt;It is such a pleasure when your goals are accomplished and we think we have outdone ourselves with this one. Good job team!</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;## References</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;* &lt;a name=&quot;ref1&quot;&gt;\[1\]&lt;/a&gt; Pereira, A. (2017). C e Algoritmos, 2ª edição. Sílabo.</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;* &lt;a name=&quot;ref2&quot;&gt;\[2\]&lt;/a&gt; Reagan, P. (2014). [Game Programming in C with the</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;Ncurses Library](https://www.viget.com/articles/game-programming-in-c-with-the-ncurses-library),</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;Viget Labs.</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;* &lt;a name=&quot;ref3&quot;&gt;\[3\]&lt;/a&gt; [2D game development basics (2010)](https://stackoverflow.com/questions/3144399/2d-game-development-basics),</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;stackoverflow.com</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;* &lt;a name=&quot;ref3&quot;&gt;\[4\]&lt;/a&gt; [Moore Neighbourhood](https://pdfs.semanticscholar.org/2a83/949bdf95186d041af2271f9b5a65986a9b26.pdf), semanticscholar.org</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;## Collaborators</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;We would like to thank our classmate Nuno Carriço for all the help that he provided us. Our communication and mutual aid was crucial to the outcome</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;of this project.&lt;p&gt;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;* &lt;a name=&quot;ref1&quot;&gt;\[1\]&lt;/a&gt; [Nuno Carriço](https://github.com/NunoCarrico98)</div></div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>README.md</b></li>
    <li class="footer">Generated on Tue Jan 30 2018 22:13:58 for 2º Projeto de Introdução à Computação by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
